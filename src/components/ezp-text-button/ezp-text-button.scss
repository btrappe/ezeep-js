/**
 *
 * Modules
 *
 */

@use './ezp-text-button.m' as self;

/**
 *
 * Rules
 *
 */

:host {
  --button-background-active: transparent;
  --button-background-disabled: transparent;
  --button-background-hover: transparent;
  --button-background-init: transparent;
  --button-background: var(--button-background-init);
  --button-color-disabled: inherit;
  --button-color-init: inherit;
  --button-color: var(--button-color-init);
  --button-cursor: pointer;

  display: flex;

  @at-root {
    #{&}(.primary) {
      --button-background-active: var(--color-main-tertiary);
      --button-background-disabled: var(--color-shade-primary);
      --button-background-hover: var(--color-main-secondary);
      --button-background-init: var(--color-main-primary);
      --button-color-disabled: var(--color-foreground-tertiary);
      --button-color-init: var(--color-on-main-primary);
    }

    #{&}(.secondary) {
      --button-background-active: var(--color-shade-tertiary);
      --button-background-disabled: var(--color-shade-primary);
      --button-background-hover: var(--color-shade-secondary);
      --button-background-init: var(--color-shade-primary);
      --button-color-disabled: var(--color-foreground-tertiary);
      --button-color-init: var(--color-main-primary);
    }

    #{&}(.tertiary) {
      --button-background-active: var(--color-shade-secondary);
      --button-background-hover: var(--color-shade-primary);
      --button-color-disabled: var(--color-foreground-tertiary);
      --button-color-init: var(--color-main-primary);
    }
  }
}

.button {
  align-items: center;
  appearance: none;
  background: var(--button-background);
  border: 0;
  border-radius: 3px;
  box-shadow: none;
  color: var(--button-color);
  cursor: var(--button-cursor);
  display: flex;
  font-family: inherit;
  justify-content: center;
  margin: 0;
  outline: none;
  padding: var(--spacing-3);
  white-space: nowrap;
  width: 100%;

  &:not(:disabled) {
    @media (hover: hover) {
      &:hover {
        --button-background: var(--button-background-hover);
      }

      &:active {
        --button-background: var(--button-background-active);
      }
    }
  }

  &:disabled {
    --button-background: var(--button-background-disabled);
    --button-color: var(--button-color-disabled);
    --button-cursor: not-allowed;
  }
}
